var terminal = require('child_process').spawn('bash');

terminal.stdout.on('data', function (data) {
    console.log('stdout: ' + data);
});

terminal.on('exit', function (code) {
    console.log('child process exited with code ' + code);
});

var cmd='curl "http://www.bzsm.org/administrator/index.php?option=com_content&layout=edit&id=0" -H "Cookie: 3857e73240ae0b53fb2a57968d7dda0f=3o5731rbas5p5cakeqah0hiha7; 9817c2f0271666e3c069085260a8fea9=9t1oi541c01bghc4rmuebv3vk5" -H "Origin: http://www.bzsm.org" -H "Accept-Encoding: gzip,deflate,sdch" -H "Accept-Language: zh-CN,zh;q=0.8,en;q=0.6,zh-TW;q=0.4,ja;q=0.2" -H "User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36" -H "Content-Type: application/x-www-form-urlencoded" -H "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8" -H "Cache-Control: max-age=0" -H "Referer: http://www.bzsm.org/administrator/index.php?option=com_content&view=article&layout=edit" -H "Connection: keep-alive" --data "jform"%"5Btitle"%"5D=guyuzhe2222&jform"%"5Balias"%"5D=&jform"%"5Barticletext"%"5D="%"3Cp"%"3Eguyuzhe"%"3C"%"2Fp"%"3E&jform"%"5Bcatid"%"5D=2&jform"%"5Bstate"%"5D=1&jform"%"5Bfeatured"%"5D=0&jform"%"5Baccess"%"5D=1&jform"%"5Blanguage"%"5D=*&jform"%"5Bversion_note"%"5D=&jform"%"5Bpublish_up"%"5D=&jform"%"5Bpublish_down"%"5D=&jform"%"5Bcreated"%"5D=&jform"%"5Bcreated_by"%"5D=0&jform"%"5Bcreated_by_alias"%"5D=&jform"%"5Bmodified"%"5D=&jform"%"5Bmodified_by"%"5D=0&jform"%"5Bversion"%"5D=&jform"%"5Bhits"%"5D=&jform"%"5Bid"%"5D=0&jform"%"5Bmetadesc"%"5D=&jform"%"5Bmetakey"%"5D=&jform"%"5Bxreference"%"5D=&jform"%"5Bmetadata"%"5D"%"5Brobots"%"5D=&jform"%"5Bmetadata"%"5D"%"5Bauthor"%"5D=&jform"%"5Bmetadata"%"5D"%"5Brights"%"5D=&jform"%"5Bmetadata"%"5D"%"5Bxreference"%"5D=&jform"%"5Bimages"%"5D"%"5Bimage_intro"%"5D=&jform"%"5Bimages"%"5D"%"5Bfloat_intro"%"5D=&jform"%"5Bimages"%"5D"%"5Bimage_intro_alt"%"5D=&jform"%"5Bimages"%"5D"%"5Bimage_intro_caption"%"5D=&jform"%"5Bimages"%"5D"%"5Bimage_fulltext"%"5D=&jform"%"5Bimages"%"5D"%"5Bfloat_fulltext"%"5D=&jform"%"5Bimages"%"5D"%"5Bimage_fulltext_alt"%"5D=&jform"%"5Bimages"%"5D"%"5Bimage_fulltext_caption"%"5D=&jform"%"5Burls"%"5D"%"5Burla"%"5D=&jform"%"5Burls"%"5D"%"5Burlatext"%"5D=&jform"%"5Burls"%"5D"%"5Btargeta"%"5D=&jform"%"5Burls"%"5D"%"5Burlb"%"5D=&jform"%"5Burls"%"5D"%"5Burlbtext"%"5D=&jform"%"5Burls"%"5D"%"5Btargetb"%"5D=&jform"%"5Burls"%"5D"%"5Burlc"%"5D=&jform"%"5Burls"%"5D"%"5Burlctext"%"5D=&jform"%"5Burls"%"5D"%"5Btargetc"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_title"%"5D=&jform"%"5Battribs"%"5D"%"5Blink_titles"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_tags"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_intro"%"5D=&jform"%"5Battribs"%"5D"%"5Binfo_block_position"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_category"%"5D=&jform"%"5Battribs"%"5D"%"5Blink_category"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_parent_category"%"5D=&jform"%"5Battribs"%"5D"%"5Blink_parent_category"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_author"%"5D=&jform"%"5Battribs"%"5D"%"5Blink_author"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_create_date"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_modify_date"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_publish_date"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_item_navigation"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_icons"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_print_icon"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_email_icon"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_vote"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_hits"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_noauth"%"5D=&jform"%"5Battribs"%"5D"%"5Burls_position"%"5D=&jform"%"5Battribs"%"5D"%"5Balternative_readmore"%"5D=&jform"%"5Battribs"%"5D"%"5Barticle_layout"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_publishing_options"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_article_options"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_urls_images_backend"%"5D=&jform"%"5Battribs"%"5D"%"5Bshow_urls_images_frontend"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.delete"%"5D"%"5B1"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit"%"5D"%"5B1"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit.state"%"5D"%"5B1"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.delete"%"5D"%"5B9"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit"%"5D"%"5B9"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit.state"%"5D"%"5B9"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.delete"%"5D"%"5B6"%"5D=1&jform"%"5Brules"%"5D"%"5Bcore.edit"%"5D"%"5B6"%"5D=1&jform"%"5Brules"%"5D"%"5Bcore.edit.state"%"5D"%"5B6"%"5D=1&jform"%"5Brules"%"5D"%"5Bcore.delete"%"5D"%"5B7"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit"%"5D"%"5B7"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit.state"%"5D"%"5B7"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.delete"%"5D"%"5B2"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit"%"5D"%"5B2"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit.state"%"5D"%"5B2"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.delete"%"5D"%"5B3"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit"%"5D"%"5B3"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit.state"%"5D"%"5B3"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.delete"%"5D"%"5B4"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit"%"5D"%"5B4"%"5D=1&jform"%"5Brules"%"5D"%"5Bcore.edit.state"%"5D"%"5B4"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.delete"%"5D"%"5B5"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit"%"5D"%"5B5"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit.state"%"5D"%"5B5"%"5D=1&jform"%"5Brules"%"5D"%"5Bcore.delete"%"5D"%"5B8"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit"%"5D"%"5B8"%"5D=&jform"%"5Brules"%"5D"%"5Bcore.edit.state"%"5D"%"5B8"%"5D=&task=article.apply&return=&aa2df554566e794e625d2cc78af5b539=1" --compressed \n';
setTimeout(function() {
    console.log('Sending stdin to terminal');
    terminal.stdin.write('echo $PATH \n');
    terminal.stdin.write(cmd);
    //terminal.stdin.write('ls\n');s
    console.log('Ending terminal session');
    terminal.stdin.end();
}, 1000);